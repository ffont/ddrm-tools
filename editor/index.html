<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">
<title>DDRM Online Editor</title>
<link rel="stylesheet" href="3rdparty/bootstrap.min.css">
<link rel="stylesheet" href="3rdparty/bootstrap-slider.min.css">
<link rel="stylesheet" href="all.css">

<script type='text/javascript' src='3rdparty/jquery.min.js'></script>  <!-- needed for bootstrap js -->
<script type='text/javascript' src='3rdparty/tabletop.min.js'></script>
<script type='text/javascript' src='3rdparty/bootstrap.min.js'></script>
<script type='text/javascript' src='3rdparty/bootstrap-slider.min.js'></script>
<script type='text/javascript' src='3rdparty/webmidi.min.js'></script>
<script type='text/javascript' src='globals.js'></script>
<script type='text/javascript' src='utils.js'></script>
<script type='text/javascript' src='midi.js'></script>
<script type='text/javascript' src='store.js'></script>
<script type='text/javascript' src='components.js'></script>
<script type='text/javascript' src='ui.js'></script>
<script type='text/javascript'>

	function init(){
		initMIDI(document.getElementById("midiSettings"));
		autoAdjustUIScaleFactor();

		ONLINE_STORE = new GoogleSpreadsheetStore(
		    scriptURL="https://script.google.com/macros/s/AKfycbxdlE7J-VHEfSAEtj-MtA_MptxmtiMUWTbRU9oaU3zaZ-cSptW-/exec", 
		    spreadsheetURL="https://docs.google.com/spreadsheets/d/10FpFlL8FKWJzRu2La21AdD-nhivl-7agzHNiIhQ5Llg/edit?usp=sharing");

		LOCAL_STORE = new LocalStore();

		PRESET_MANAGER = new PresetManager();
		drawPresetControls();
		drawPresetManagerControls();
		
		PRESET_MANAGER.loadLocalAndOnlinePresets(function(){
			if (PRESET_MANAGER.currentPreset === undefined) {
				PRESET_MANAGER.setCurrentPresetToFirstPreset();
				drawPresetControls();
                drawPresetManagerControls();
            }            
		});
	}

</script>
</head>
<body onload="init();">

	<div id="sideBar">

		<!-- MIDI -->
		<div id="midiSettings"></div>

		<br>
		<!-- bank file selector -->
		Load presets from bank file:
		<form action='#' onsubmit="return false;">
		<input type='file' id='fileinput'>
		<br><input type='button' id='btnLoad' value='Load' onclick='loadBankFile();'>
		</form>

		<br>
		<!-- Bank -->
		<div id="presetManagerControls"></div>

	</div>

	<div id="controlsPanel">

		<!-- Synth -->
		<div id="synthControls"></div>

	</div>

</body>
</html>